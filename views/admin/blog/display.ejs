<%-include('../../header.ejs') %>

<div class="container mt-5 mb-5">
  <div class="row">
    <div class="col-md-2">
      <%-include('../../admin/component/adminSidebar.ejs') %>
    </div>
    <div class="col-md-10">
      <!-- main content here --->
      <div class="d-flex align-items-baseline justify-content-between">
        <h3 class="mb-3 fst-italic">Blog Category</h3>
        <a href="/admin/createBlog" class="btn btn-dark">Add New Blog</a>
      </div>
      <div style="overflow-x: auto">
        <table class="table table-striped">
          <thead>
            <th>#</th>
            <th>Title</th>
            <th>Image</th>
            <th>Description</th>
            <th>Action</th>
          </thead>
          <tbody>
              <% 
              var i = 1;
              result.forEach((item)=>{ %>
              <tr>
                <td><%= i++ %>.</td>
                <td><%= item.title %></td>
                <td><img src="<%= item.image.url %>" style="width: 100px;" class="rounded shadow-lg" alt=""></td>
                <td><%= item.description.slice(0,80) %>...</td>
                <td class="d-flex flex-nowrap" style="gap: 10px">
                  <a href="/admin/viewBlog/<%= item._id %>" class="btn btn-info">View</a>
                  <a href="/admin/editBlog/<%= item._id %>" class="btn btn-warning">Edit</a>
                  <a href="/admin/deleteBlog/<%= item._id %>" class="btn btn-danger">Delete</a>
                </td>
              </tr>
              <% 
                }) 
              %>
            </tbody>
            <tfoot>
              <th>#</th>
              <th>Title</th>
              <th>Image</th>
              <th>Description</th>
            <th>Action</th>
          </tfoot>
        </table>
      </div>
    </div>
  </div>
</div>

<%-include('../../footer.ejs') %>
